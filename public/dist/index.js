var userInput;function searchCity(e){var t="https://hotels4.p.rapidapi.com/locations/search?query="+e;$.ajax({url:t,method:"GET",headers:{"content-type":"application/json","x-rapidapi-host":"hotels4.p.rapidapi.com","x-rapidapi-key":"0678ac7d4dmsh7ec92c295c5eef2p194aa9jsnf39296021020"},params:{locale:"en_US"}}).then(function(e){console.log(e.suggestions[3].entities);for(var t=e.suggestions[3].entities,a=0;a<t.length;a++){var n=$('<div class="card-panel" id="box-'+a+'">'),s=$('<div class="col s12 m4">'),o=$('<i class="material-icons large teal-text">').text("store"),i=$("<h4>").addClass("Name").text(t[a].name),c=$("<p>").addClass("captions").html(t[a].caption),l=$("<p>").html('<button data-name="'+t[a].name+'" class="savebtn">Save</button>');n.append(o),n.append(i),n.append(c),n.append(l),s.append(n),$("#hotel-results").append(s)}})}$(document).on("click",".savebtn",function(e){console.log("click!");var t={city:$("#userInput").val().trim(),hotel:$(this).attr("data-name")};$.post("/api/save",t).then(function(e){console.log("Successfully posted to db")})}),$("#searchCityButton").on("click",function(e){e.preventDefault();var t=$("#userInput").val().trim();console.log(t),searchCity(t)}),$("#userInput").submit(function(){event.preventDefault();var e=$("#userInput").val().trim();console.log(e),searchCity(e)}),$(document).ready(function(){$(window).keydown(function(e){if(13===e.keyCode){e.preventDefault();var t=$("#userInput").val().trim();console.log(t),searchCity(t)}})});